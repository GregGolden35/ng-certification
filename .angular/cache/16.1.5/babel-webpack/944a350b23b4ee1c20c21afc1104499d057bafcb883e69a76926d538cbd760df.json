{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/quiz.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../trivia-questions/trivia-questions.component\";\nfunction CreateQuizComponent_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r1.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", category_r1.name, \" \");\n  }\n}\nexport let CreateQuizComponent = /*#__PURE__*/(() => {\n  class CreateQuizComponent {\n    constructor(quizService, formBuilder) {\n      this.quizService = quizService;\n      this.formBuilder = formBuilder;\n    }\n    ngOnInit() {\n      this.formGroup = this.formBuilder.group({\n        category: ['defaultCategory'],\n        difficulty: ['defaultDifficulty']\n      });\n      this.categoryData = this.quizService.categoriesSignal;\n    }\n    createQuiz() {\n      let categoryId = this.formGroup.get('category')?.value;\n      let difficulty = this.formGroup.get('difficulty')?.value;\n      this.quizService.getQuestions(categoryId, difficulty).subscribe({\n        next: response => {\n          this.trivia = response;\n          let questionNumber = 1;\n          this.trivia.results.forEach(x => {\n            x.questionNumber = questionNumber;\n            //randomize incorrect and correct answer\n            x.answers = this.shuffle(x.incorrect_answers.concat(x.correct_answer));\n            questionNumber++;\n          });\n        }\n      });\n    }\n    shuffle(array) {\n      return array.sort(() => Math.random() - 0.5);\n    }\n  }\n  CreateQuizComponent.ɵfac = function CreateQuizComponent_Factory(t) {\n    return new (t || CreateQuizComponent)(i0.ɵɵdirectiveInject(i1.QuizService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n  };\n  CreateQuizComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CreateQuizComponent,\n    selectors: [[\"ng-component\"]],\n    decls: 20,\n    vars: 3,\n    consts: [[\"novalidate\", \"\", 3, \"formGroup\"], [1, \"row\"], [1, \"col-md-4\"], [\"id\", \"categorySelect\", \"formControlName\", \"category\", 1, \"form-control\"], [\"value\", \"defaultCategory\", \"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"difficultySelect\", \"formControlName\", \"difficulty\", 1, \"form-control\"], [\"value\", \"defaultDifficulty\", \"selected\", \"\"], [\"value\", \"Easy\"], [\"value\", \"Medium\"], [\"value\", \"Hard\"], [\"id\", \"createBtn\", \"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [3, \"trivia\"], [3, \"value\"]],\n    template: function CreateQuizComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"select\", 3)(4, \"option\", 4);\n        i0.ɵɵtext(5, \"Select a category\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, CreateQuizComponent_option_6_Template, 2, 2, \"option\", 5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\", 2)(8, \"select\", 6)(9, \"option\", 7);\n        i0.ɵɵtext(10, \"Select difficulty\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"option\", 8);\n        i0.ɵɵtext(12, \"Easy\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"option\", 9);\n        i0.ɵɵtext(14, \"Medium\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"option\", 10);\n        i0.ɵɵtext(16, \"Hard\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(17, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function CreateQuizComponent_Template_button_click_17_listener() {\n          return ctx.createQuiz();\n        });\n        i0.ɵɵtext(18, \"Create\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(19, \"app-trivia-questions\", 12);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.formGroup);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.categoryData());\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"trivia\", ctx.trivia);\n      }\n    },\n    dependencies: [i3.NgForOf, i2.ɵNgNoValidate, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i4.TriviaQuestionsComponent]\n  });\n  return CreateQuizComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}